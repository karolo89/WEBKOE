{
  "hash": "00d259e8b9acfba4aebb558914706a17",
  "result": {
    "markdown": "---\ntitle: \"Market Segmentation Analysis\"\nauthor: \"Orozco Karol M.\"\nimage: customer.jpg\ndate: \"06-30-2023\"\nformat:\n  html:\n    toc: true\n    toc-location: right\n    html-math-method: katex\n    page-layout: full\nexecute: \n  warning: false\n  message: false\ncategories: [R, Machine Learning, Prediction]\n---\n\n\n## Introduction\n\nThe purpose of this business report is to provide an overview of a project that analyzed a customer database from a mall. The project aimed to uncover underlying patterns in the customer base and group customers into segments, known as market segmentation. By understanding these segments, the marketing team can adopt a more targeted approach to reach consumers, and the mall can make informed strategic decisions to increase profits.\n\n## Dataset and Methods Used\n\nThe dataset used in this analysis is a customer database from a mall, containing 200 observations with basic information such as age, gender, annual income, and spending score. The analysis was performed using the R programming language. Exploratory data analysis, descriptive statistics, data visualization, and unsupervised machine learning techniques (K-Means Clustering) were employed to achieve the project objectives.\n\n## Project Highlights\n\nThe project yielded several important highlights and insights:\n\n#### Load the required packages and dataset\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(cluster) \nlibrary(gridExtra)\nlibrary(grid)\nlibrary(skimr)\nlibrary(purrr)\nlibrary(NbClust)\nlibrary(factoextra)\nlibrary(ggplot2)\nlibrary(dplyr)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ncustomer_data <- read.csv(\"https://raw.githubusercontent.com/karolo89/WEBKOE/main/projects/MarketSegmentation/Mall_Customers.csv\")\n\nskim(customer_data)\n```\n\n::: {.cell-output-display}\nTable: Data summary\n\n|                         |              |\n|:------------------------|:-------------|\n|Name                     |customer_data |\n|Number of rows           |200           |\n|Number of columns        |5             |\n|_______________________  |              |\n|Column type frequency:   |              |\n|character                |1             |\n|numeric                  |4             |\n|________________________ |              |\n|Group variables          |None          |\n\n\n**Variable type: character**\n\n|skim_variable | n_missing| complete_rate| min| max| empty| n_unique| whitespace|\n|:-------------|---------:|-------------:|---:|---:|-----:|--------:|----------:|\n|Gender        |         0|             1|   4|   6|     0|        2|          0|\n\n\n**Variable type: numeric**\n\n|skim_variable          | n_missing| complete_rate|   mean|    sd| p0|   p25|   p50|    p75| p100|hist  |\n|:----------------------|---------:|-------------:|------:|-----:|--:|-----:|-----:|------:|----:|:-----|\n|CustomerID             |         0|             1| 100.50| 57.88|  1| 50.75| 100.5| 150.25|  200|▇▇▇▇▇ |\n|Age                    |         0|             1|  38.85| 13.97| 18| 28.75|  36.0|  49.00|   70|▆▇▅▃▂ |\n|Annual.Income..k..     |         0|             1|  60.56| 26.26| 15| 41.50|  61.5|  78.00|  137|▆▇▇▂▁ |\n|Spending.Score..1.100. |         0|             1|  50.20| 25.82|  1| 34.75|  50.0|  73.00|   99|▃▃▇▃▃ |\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Calculate gender percentages\ngender_counts <- table(customer_data$Gender)\ngender_pct <- round(gender_counts / sum(gender_counts) * 100)\ngender_labels <- paste(names(gender_counts), gender_pct, \"%\", sep = \" \")\n\n# Set color palette\ncolors <- c(\"#336699\", \"#99CCFF\")\n\n# Create a data frame for the chart\ngender_data <- data.frame(gender = names(gender_counts), count = gender_counts) %>%\n  mutate(label = gender_labels)\n\n# Create a bar plot to visualize the gender variable\ngender_plot <- ggplot(gender_data, aes(x = gender, y = gender_counts, fill = gender)) +\n  geom_bar(stat = \"identity\", width = 0.6, color = \"white\") +\n  theme_minimal() +\n  scale_fill_manual(values = colors) +\n  labs(x = \"\", y = \"Count\", fill = \"\") +\n  geom_text(aes(label = label), position = position_stack(vjust = 0.5)) +\n  ggtitle(\"Gender Distribution\") +\n  theme(plot.title = element_text(size = 16, face = \"bold\", hjust = 0.5),\n        axis.text = element_text(size = 12),\n        axis.title = element_text(size = 14, face = \"bold\"),\n        legend.position = \"none\")\n\n# Plot age distribution with modified binwidth\nage_plot <- ggplot(customer_data, aes(x = Age)) +\n  geom_histogram(binwidth = 5, fill = \"#336699\", color = \"white\") +\n  labs(x = \"Age\", y = \"Frequency\") +\n  ggtitle(\"Age Distribution\") +\n  theme_minimal() +\n  theme(plot.title = element_text(size = 16, face = \"bold\", hjust = 0.5),\n        axis.text = element_text(size = 12),\n        axis.title = element_text(size = 14, face = \"bold\"))\n\n# Plot annual income distribution with modified binwidth\nincome_plot <- ggplot(customer_data, aes(x = Annual.Income..k..)) +\n  geom_histogram(binwidth = 10, fill = \"#336699\", color = \"white\") +\n  labs(x = \"Annual Income (k)\", y = \"Frequency\") +\n  ggtitle(\"Annual Income Distribution\") +\n  theme_minimal() +\n  theme(plot.title = element_text(size = 16, face = \"bold\", hjust = 0.5),\n        axis.text = element_text(size = 12),\n        axis.title = element_text(size = 14, face = \"bold\"))\n\n# Plot spending score distribution with modified binwidth\nscore_plot <- ggplot(customer_data, aes(x = Spending.Score..1.100.)) +\n  geom_histogram(binwidth = 5, fill = \"#336699\", color = \"white\") +\n  labs(x = \"Spending Score\", y = \"Frequency\") +\n  ggtitle(\"Spending Score Distribution\") +\n  theme_minimal() +\n  theme(plot.title = element_text(size = 16, face = \"bold\", hjust = 0.5),\n        axis.text = element_text(size = 12),\n        axis.title = element_text(size = 14, face = \"bold\"))\n\n# Display the plots\nprint(gender_plot)\n```\n\n::: {.cell-output-display}\n![](segmentation_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n\n```{.r .cell-code}\nprint(age_plot)\n```\n\n::: {.cell-output-display}\n![](segmentation_files/figure-html/unnamed-chunk-3-2.png){width=672}\n:::\n\n```{.r .cell-code}\nprint(income_plot)\n```\n\n::: {.cell-output-display}\n![](segmentation_files/figure-html/unnamed-chunk-3-3.png){width=672}\n:::\n\n```{.r .cell-code}\nprint(score_plot)\n```\n\n::: {.cell-output-display}\n![](segmentation_files/figure-html/unnamed-chunk-3-4.png){width=672}\n:::\n:::\n\n\n\n## K-means Algorithm\n\n\n::: {.cell}\n\n```{.r .cell-code}\nset.seed(123)\n# function to calculate total intra-cluster sum of square \niss <- function(k) {\n  kmeans(customer_data[,3:5],k,iter.max=100,nstart=100,algorithm=\"Lloyd\" )$tot.withinss\n}\n\nk.values <- 1:10\n\n\niss_values <- map_dbl(k.values, iss)\n\nplot(k.values, iss_values,\n     type=\"b\", pch = 19, frame = FALSE, \n     xlab=\"Number of clusters K\",\n     ylab=\"Total intra-clusters sum of squares\")\n```\n\n::: {.cell-output-display}\n![](segmentation_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n",
    "supporting": [
      "segmentation_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}