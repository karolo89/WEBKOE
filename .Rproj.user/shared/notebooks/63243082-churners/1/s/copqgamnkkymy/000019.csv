"0","ctrl <- trainControl(method = ""cv"", number = 3, classProbs=TRUE, summaryFunction = twoClassSummary)"
"0",""
"0","bank_index <- createDataPartition(bank$churn, p = 0.80, list = FALSE)"
"0","train <- bank[ bank_index, ]"
"0","test <- bank[-bank_index, ]"
"0",""
"0","big_model =train(churn ~ .,"
"0","             data = train, "
"0","             method = ""rf"","
"0","             tunelength = 4,"
"0","             metric = ""ROC"","
"0","             trControl = ctrl)"
"0",""
"0","# Compute variable importance"
"0","importance <- varImp(big_model)"
"0",""
"0","# Plot variable importance with customized theme"
"0","ggplot(importance, aes(x = reorder(Variables, Importance), y = Importance)) +"
"0","  geom_bar(stat = ""identity"", fill = ""#1f77b4"") +"
"0","  labs(x = ""Variables"", y = ""Importance"") +"
"0","  ggtitle(""Variable Importance"") +"
"0","  theme_minimal()"
