"0","# the ""method"" below should match the one you chose above. "
"0",""
"0","set.seed(1504) # I will choose a different seed for evaluation"
"0",""
"0","bank_index <- createDataPartition(banksy2$churn, p = 0.80, list = FALSE)"
"0","train <- banksy2[ bank_index, ]"
"0","test <- banksy2[-bank_index, ]"
"0",""
"0","# example spec for rf"
"0","fit_final <- train(churn ~ .,"
"0","             data = train, "
"0","             method = ""gbm"","
"0","             tuneGrid=fit_gbm2$bestTune,"
"0","             metric = ""ROC"","
"0","             trControl = ctrl) "
"1","Iter   TrainDeviance   ValidDeviance   StepSize   Improve
"
"1","     1        0.7986             nan     0.1000    0.0413
"
"1","     2        0.7478             nan     0.1000    0.0259
"
"1","     3        0.7070             nan     0.1000    0.0195
"
"1","     4        0.6749             nan     0.1000    0.0153
"
"1","     5        0.6478             nan     0.1000    0.0132
"
"1","     6        0.6198             nan     0.1000    0.0131
"
"1","     7        0.5916             nan     0.1000    0.0119
"
"1","     8        0.5698             nan     0.1000    0.0104
"
"1","     9        0.5511             nan     0.1000    0.0083
"
"1","    10        0.5349             nan     0.1000    0.0068
"
"1","    20        0.4235             nan     0.1000    0.0030
"
"1","    40        0.3064             nan     0.1000    0.0022
"
"1","    60        0.2542             nan     0.1000    0.0013
"
"1","    80        0.2261             nan     0.1000    0.0001
"
"1","   100        0.2072             nan     0.1000    0.0002
"
"1","   120        0.1915             nan     0.1000    0.0001
"
"1","   140        0.1802             nan     0.1000   -0.0000
"
"1","   160        0.1690             nan     0.1000    0.0000
"
"1","   180        0.1624             nan     0.1000   -0.0001
"
"1","   200        0.1556             nan     0.1000   -0.0002
"
"1","
"
"1","Iter   TrainDeviance   ValidDeviance   StepSize   Improve
"
"1","     1        0.7979             nan     0.1000    0.0390
"
"1","     2        0.7467             nan     0.1000    0.0246
"
"1","     3        0.7097             nan     0.1000    0.0181
"
"1","     4        0.6751             nan     0.1000    0.0162
"
"1","     5        0.6485             nan     0.1000    0.0123
"
"1","     6        0.6219             nan     0.1000    0.0120
"
"1","     7        0.6021             nan     0.1000    0.0093
"
"1","     8        0.5840             nan     0.1000    0.0079
"
"1","     9        0.5660             nan     0.1000    0.0087
"
"1","    10        0.5506             nan     0.1000    0.0072
"
"1","    20        0.4232             nan     0.1000    0.0037
"
"1","    40        0.3191             nan     0.1000    0.0012
"
"1","    60        0.2628             nan     0.1000    0.0010
"
"1","    80        0.2316             nan     0.1000    0.0001
"
"1","   100        0.2070             nan     0.1000    0.0002
"
"1","   120        0.1927             nan     0.1000    0.0001
"
"1","   140        0.1812             nan     0.1000   -0.0001
"
"1","   160        0.1712             nan     0.1000    0.0001
"
"1","   180        0.1650             nan     0.1000    0.0000
"
"1","   200        0.1579             nan     0.1000    0.0000
"
"1","
"
"1","Iter   TrainDeviance   ValidDeviance   StepSize   Improve
"
"1","     1        0.7999             nan     0.1000    0.0391
"
"1","     2        0.7434             nan     0.1000    0.0273
"
"1","     3        0.7035             nan     0.1000    0.0186
"
"1","     4        0.6726             nan     0.1000    0.0151
"
"1","     5        0.6451             nan     0.1000    0.0125
"
"1","     6        0.6228             nan     0.1000    0.0113
"
"1","     7        0.5987             nan     0.1000    0.0106
"
"1","     8        0.5757             nan     0.1000    0.0108
"
"1","     9        0.5533             nan     0.1000    0.0103
"
"1","    10        0.5374             nan     0.1000    0.0073
"
"1","    20        0.4230             nan     0.1000    0.0035
"
"1","    40        0.3201             nan     0.1000    0.0012
"
"1","    60        0.2668             nan     0.1000    0.0009
"
"1","    80        0.2377             nan     0.1000    0.0001
"
"1","   100        0.2172             nan     0.1000    0.0002
"
"1","   120        0.2038             nan     0.1000    0.0001
"
"1","   140        0.1914             nan     0.1000   -0.0001
"
"1","   160        0.1825             nan     0.1000   -0.0001
"
"1","   180        0.1733             nan     0.1000   -0.0001
"
"1","   200        0.1665             nan     0.1000   -0.0002
"
"1","
"
"1","Iter   TrainDeviance   ValidDeviance   StepSize   Improve
"
"1","     1        0.7984             nan     0.1000    0.0396
"
"1","     2        0.7475             nan     0.1000    0.0248
"
"1","     3        0.7076             nan     0.1000    0.0197
"
"1","     4        0.6744             nan     0.1000    0.0156
"
"1","     5        0.6376             nan     0.1000    0.0185
"
"1","     6        0.6141             nan     0.1000    0.0112
"
"1","     7        0.5897             nan     0.1000    0.0112
"
"1","     8        0.5712             nan     0.1000    0.0091
"
"1","     9        0.5574             nan     0.1000    0.0067
"
"1","    10        0.5412             nan     0.1000    0.0072
"
"1","    20        0.4317             nan     0.1000    0.0042
"
"1","    40        0.3195             nan     0.1000    0.0017
"
"1","    60        0.2692             nan     0.1000    0.0008
"
"1","    80        0.2387             nan     0.1000    0.0004
"
"1","   100        0.2193             nan     0.1000    0.0005
"
"1","   120        0.2047             nan     0.1000   -0.0001
"
"1","   140        0.1942             nan     0.1000    0.0000
"
"1","   160        0.1859             nan     0.1000    0.0000
"
"1","   180        0.1769             nan     0.1000   -0.0001
"
"1","   200        0.1717             nan     0.1000   -0.0001
"
"1","
"
"0","# The last line means we will fit a model using the best tune parameters your CV found above."
"0",""
"0","myRoc <- roc(test$churn, predict(fit_final, test, type=""prob"")[,2])"
"2","Setting levels: control = no, case = yes
"
"2","Setting direction: controls < cases
"
"0","plot(myRoc)"
